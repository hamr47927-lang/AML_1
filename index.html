<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ù‡Ø¯ÙŠØ© ÙƒØ±ÙŠØ³Ù…Ø§Ø³ â¤ï¸</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <style>
        :root { --christmas-green: #228B22; --christmas-red: #DC143C; --gold: #ffd700; }
        body { margin: 0; background: #fff0f3; display: flex; justify-content: center; align-items: center; height: 100vh; font-family: 'Segoe UI', sans-serif; overflow: hidden; }
        
        /* ØªØ£Ø«ÙŠØ± Ø§Ù„Ø«Ù„Ø¬ */
        .snowflake { position: absolute; color: white; font-size: 20px; top: -20px; animation: fall 10s linear infinite; pointer-events: none; }
        @keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }

        .container { width: 90%; max-width: 400px; text-align: center; background: white; padding: 30px; border-radius: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); position: relative; z-index: 5; }
        .section { display: none; }
        .active { display: block; animation: fadeIn 0.5s ease; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* Ø§Ù„Ø¨ØµÙ…Ø© */
        .fp-wrapper { width: 100px; height: 100px; margin: 20px auto; position: relative; cursor: pointer; border: 2px solid #eee; border-radius: 20px; display: flex; align-items: center; justify-content: center; }
        .scan-line { position: absolute; width: 100%; height: 3px; background: #00ffcc; top: 0; display: none; }
        .scanning .scan-line { display: block; animation: scan 1.5s infinite; }
        @keyframes scan { 50% { top: 100%; } }

        /* Ø§Ù„Ø´Ø¬Ø±Ø© ÙˆØ§Ù„Ù‡Ø¯ÙŠØ© */
        .tree { font-size: 80px; cursor: pointer; transition: 0.3s; }
        .tree:active { transform: scale(0.9); }
        .gift-box { width: 100px; height: 100px; margin: 20px auto; position: relative; cursor: pointer; }
        .gift-lid { width: 100%; height: 25%; background: var(--christmas-red); position: absolute; top: 0; transition: 0.5s; z-index: 2; border: 2px solid white; }
        .gift-body { width: 100%; height: 75%; background: var(--christmas-green); position: absolute; bottom: 0; border: 2px solid white; }
        .open .gift-lid { transform: translateY(-40px) rotate(-10deg); opacity: 0; }

        input { width: 80%; padding: 12px; margin: 10px 0; border: 1px solid #ddd; border-radius: 10px; text-align: center; }
        button { background: var(--christmas-red); color: white; border: none; padding: 12px 25px; border-radius: 15px; cursor: pointer; font-weight: bold; }
        #final-screen { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: black; color: white; display: none; flex-direction: column; align-items: center; justify-content: center; z-index: 100; text-align: center; }
    </style>
</head>
<body>

    <div class="container">
        <div id="s0" class="section active">
            <h2 style="color: var(--christmas-red)">Ø£Ù‡Ù„Ø§Ù‹ ÙŠØ§ Ø­Ø¨ÙŠØ¨ØªÙŠ â¤ï¸</h2>
            <p>Ø§Ø¶ØºØ·ÙŠ Ø¨ØµÙ…ØªÙƒ Ù‡Ù†Ø§ Ù„Ù„Ø¯Ø®ÙˆÙ„</p>
            <div class="fp-wrapper" id="fp-box" onmousedown="startScan()" onmouseup="stopScan()" ontouchstart="startScan()" ontouchend="stopScan()">
                <div class="scan-line"></div>
                <i class="fas fa-fingerprint" style="font-size: 60px; color: var(--christmas-red);"></i>
            </div>
        </div>

        <div id="s1" class="section">
            <h2 style="color: var(--christmas-red)">ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± ğŸ”</h2>
            <p>Ø£Ø¯Ø®Ù„ÙŠ Ø³Ù†Ø© Ø°ÙƒØ±Ù‰ Ù…Ù…ÙŠØ²Ø© Ù„Ù†Ø§</p>
            <input type="password" id="passInput" placeholder="Ø§Ù„Ø³Ù†Ø© (Ù…Ø«Ù„Ø§Ù‹ 2024)">
            <br>
            <button onclick="checkPass()">Ø¯Ø®ÙˆÙ„ âœ¨</button>
        </div>

        <div id="s2" class="section">
            <h2 style="color: var(--christmas-red)">Ù†ÙˆØ±ÙŠ Ø§Ù„Ø´Ø¬Ø±Ø© ğŸ„</h2>
            <p>Ø§Ø¶ØºØ·ÙŠ Ø¹Ù„ÙŠÙ‡Ø§ 3 Ù…Ø±Ø§Øª</p>
            <div class="tree" onclick="handleTree()">ğŸ„</div>
            <p id="countTxt">0 / 3</p>
        </div>

        <div id="s3" class="section">
            <h2 style="color: var(--christmas-red)">Ù‡Ø¯ÙŠØ© ØµØºÙŠØ±Ø© ğŸ</h2>
            <div class="gift-box" id="gift" onclick="openGift()">
                <div class="gift-lid"></div>
                <div class="gift-body"></div>
            </div>
            <p>Ø§Ø¶ØºØ·ÙŠ Ù„ÙØªØ­ Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚</p>
        </div>
    </div>

    <div id="final-screen">
        <h1 style="color: gold;">ÙƒÙ„ Ø³Ù†Ø© ÙˆØ£Ù†ØªÙ Ø¹ÙŠØ¯ÙŠ â¤ï¸</h1>
        <p id="typewriter" style="padding: 20px; font-size: 1.2rem;"></p>
        <button onclick="location.reload()">Ø£Ø­Ø¨Ùƒ â¤ï¸</button>
    </div>

    <script>
        // ØªØ£Ø«ÙŠØ± Ø§Ù„Ø«Ù„Ø¬
        for (let i = 0; i < 30; i++) {
            let snow = document.createElement('div');
            snow.className = 'snowflake';
            snow.innerHTML = 'â„ï¸';
            snow.style.left = Math.random() * 100 + 'vw';
            snow.style.animationDelay = Math.random() * 5 + 's';
            document.body.appendChild(snow);
        }

        // Ù…Ù†Ø·Ù‚ Ø§Ù„Ø¨ØµÙ…Ø©
        let timer;
        function startScan() {
            document.getElementById('fp-box').classList.add('scanning');
            timer = setTimeout(() => { go(1); }, 2000);
        }
        function stopScan() {
            clearTimeout(timer);
            document.getElementById('fp-box').classList.remove('scanning');
        }

        // Ù…Ù†Ø·Ù‚ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±
        function checkPass() {
            let val = document.getElementById('passInput').value;
            if(val === "2024") { // ÙŠÙ…ÙƒÙ†Ùƒ ØªØºÙŠÙŠØ± Ø§Ù„Ø³Ù†Ø© Ù‡Ù†Ø§
                go(2);
            } else {
                alert("Ø®Ø·Ø£! Ø­Ø§ÙˆÙ„ÙŠ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ ÙŠØ§ Ø±ÙˆØ­ÙŠ");
            }
        }

        // Ù…Ù†Ø·Ù‚ Ø§Ù„Ø´Ø¬Ø±Ø©
        let clicks = 0;
        function handleTree() {
            clicks++;
            document.getElementById('countTxt').innerText = clicks + " / 3";
            confetti({ particleCount: 30, origin: { y: 0.8 } });
            if(clicks >= 3) { go(3); }
        }

        // Ù…Ù†Ø·Ù‚ Ø§Ù„Ù‡Ø¯ÙŠØ©
        function openGift() {
            document.getElementById('gift').classList.add('open');
            confetti({ particleCount: 150, spread: 70 });
            setTimeout(() => {
                document.getElementById('final-screen').style.display = 'flex';
                type("Ø£Ù†ØªÙ Ø£Ø¬Ù…Ù„ Ø´ÙŠØ¡ Ø­Ø¯Ø« Ù„ÙŠ ÙÙŠ ÙƒÙ„ Ø§Ù„Ø³Ù†ÙˆØ§Øª.. ÙƒÙˆÙ†ÙŠ Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ø¨Ø®ÙŠØ± ÙˆØ¨Ø¬Ø§Ù†Ø¨ÙŠ. ÙƒØ±ÙŠØ³Ù…Ø§Ø³ Ø³Ø¹ÙŠØ¯ ÙŠØ§ Ø±ÙˆØ­ÙŠ â¤ï¸");
            }, 800);
        }

        // Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„ØµÙØ­Ø§Øª
        function go(id) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.getElementById('s'+id).classList.add('active');
        }

        // ØªØ£Ø«ÙŠØ± Ø§Ù„ÙƒØªØ§Ø¨Ø©
        function type(txt) {
            let i = 0;
            let el = document.getElementById('typewriter');
            function step() {
                if(i < txt.length) {
                    el.innerHTML += txt.charAt(i);
                    i++;
                    setTimeout(step, 80);
                }
            }
            step();
        }
    </script>
</body>
</html>
